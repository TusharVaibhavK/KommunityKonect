<!DOCTYPE html>
<html>
  <head>
    <title>Repair Service Platform</title>
    <style>
      nav {
        background: #f0f0f0;
        padding: 1rem;
        margin-bottom: 1rem;
      }
      nav a {
        margin-right: 1rem;
        text-decoration: none;
        color: #333;
      }
      nav a:hover {
        color: #0066cc;
      }
      .flash-message {
        padding: 0.5rem;
        margin: 1rem 0;
      }
      .flash-success {
        background: #d4edda;
        color: #155724;
      }
      .flash-error {
        background: #f8d7da;
        color: #721c24;
      }
    </style>
  </head>
  <body>
    <nav>
      <a href="{{ url_for('main.home') }}">Home</a>

      {% if current_user.is_authenticated %}
      <a href="{{ url_for('main.profile') }}">Profile</a>
      <a href="{{ url_for('main.request_service') }}">Request Service</a>
      {% if current_user.role == 'serviceman' %}
      <a href="{{ url_for('main.service_requests') }}">Manage Requests</a>
      <a href="{{ url_for('main.calendar') }}">My Calendar</a>
      {% endif %}
      <a href="{{ url_for('main.logout') }}">Logout</a>
      {% else %}
      <a href="{{ url_for('main.register') }}">Register</a>
      <a href="{{ url_for('main.login') }}">Login</a>
      {% endif %}
    </nav>

    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %} {% for category, message in messages %}
    <div class="flash-message flash-{{ category }}">{{ message }}</div>
    {% endfor %} {% endif %} {% endwith %} {% block content %}{% endblock %}
  </body>
</html>
